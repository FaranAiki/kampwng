// Namespaces are still buggy 
// This is a test code for namespaces 

// Using link m so that it links 
// to the standard math library 
link m; // -lm 

// Declare a namespace called math

namespace math {
  /* this is where extern is used using link */
  extern double sin(double);

  int add(int a, int b) {
    return a + b;
  }

  double add_with_sin(int a, double b) {
    return (double) a + math.sin(b);
  }
}


// declare a class 
class One {
  int a = 0;
  int b = 0;

  void say() {
    print "Is a:%d, b:%d\n", a, b;
  }
}

int main() {
  let mut a = 5;
  a = math.add(a, 6);
  print "Expected 5 + 6, got %d\n", a;

  print "What is the sine of 5? %lf\n", math.sin((double) 5);
  print "What is the sine of 1 + sin(2)? %lf\n", math.add_with_sin(1, (double)2);

  One one;
  let two = One(5, 6);

  one.say();
  two.say();
}
