// TODO: raise error for undefined variable

// import "lib/cstring.hky";

// Import from the standard library
import "std"; 

// This create a class called hand
// which can be used as a trait later on 
open class Hand {
  // a trait wave
  void wave(int n) {
    printf "I am waving %d times\n", n;
  }
}

// This create a class called person 
// that has a trait called Hand 
// accessing use Person[Hand] if
// wants to wave
open class Person has Hand {
  char name[256] = "unnamed";
  int age = 0;
  void introduce() {
    print "My name is %s\n and I am %d years old\n", this.name, this.age;
  }
}

open class Mahasiswa is Person {
  int nim = 0;
  void introduce() {
    print "My name is %s with nim %d\n", this.name, this.nim;
  }
}

int main() {
  let Faran = Person ("Muhammad Faran Aiki", 18);
  print("%s\n", Faran.name);
  let Faran_Mahasiswa = Mahasiswa (
    Faran.name,
    Faran.age,
    18225122
  );
  // suggest: let Faran_Mahasiswa be Mahasiswa[Faran](18225122)
  int a[12] = [1,2,3];
  print "%d!\n", a[2];
  Faran.introduce();
  Faran[Hand].wave(5);
  Faran_Mahasiswa[Hand].wave(5);
  Faran_Mahasiswa.introduce();
  print "%d\n", Faran_Mahasiswa.age;
}
